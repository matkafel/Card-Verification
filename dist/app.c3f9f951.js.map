{"version":3,"sources":["js/getCardProvider.js","js/app.js"],"names":["getCardProvider","cardNumber","isCardNumberValid","getProvider","parityChecker","parity","oddNumber","filter","_","index","evenNumber","sumOddNumber","map","n","toString","reduce","curr","next","Number","sumEvenNumber","length","cardNumberString","isVisa","isMasterCard","isAmericanExpress","isJcb","isDiscover","Error","islength","isPrefix","startsWith","includes","substring","cardType","document","querySelector","inputNumber","flexContainer","img","Image","classList","add","addEventListener","e","preventDefault","value","innerHTML","style","color","marginRight","src","appendChild"],"mappings":"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","file":"app.c3f9f951.js","sourceRoot":"..","sourcesContent":["const getCardProvider = (cardNumber) => {\r\n    if (isCardNumberValid(cardNumber)) {\r\n        return getProvider(cardNumber)\r\n    } else {\r\n        return 'Incorrect number'\r\n    }\r\n}\r\n\r\n\r\nfunction isCardNumberValid(cardNumber) {\r\n    const parityChecker = parity(cardNumber);\r\n\r\n    const oddNumber = parityChecker\r\n        .filter((_, index) => index % 2 === 0)\r\n\r\n    const evenNumber = parityChecker\r\n        .filter((_, index) => index % 2 === 1)\r\n\r\n    const sumOddNumber = oddNumber\r\n        .map(n => (n * 2).toString())\r\n        .reduce((curr, next) => {\r\n            return curr + Number(next[0]) + (next[1] ? Number(next[1]) : 0)\r\n        }, 0)\r\n\r\n\r\n    const sumEvenNumber = evenNumber.reduce((curr, next) => curr + next, 0)\r\n\r\n    return (sumOddNumber + sumEvenNumber) % 10 === 0;\r\n}\r\n\r\nfunction parity(cardNumber) {\r\n    return cardNumber.toString().length % 2 === 0 ? [...cardNumber.toString()].map(n => Number(n)) : [0, ...cardNumber.toString()].map(n => Number(n))\r\n}\r\n\r\n\r\nfunction getProvider(cardNumber) {\r\n    const cardNumberString = cardNumber.toString()\r\n    if (isVisa(cardNumberString)) {\r\n        return 'Visa'\r\n    } else if (isMasterCard(cardNumberString)) {\r\n        return 'MasterCard'\r\n    } else if (isAmericanExpress(cardNumberString)) {\r\n        return 'American Express'\r\n    } else if (isJcb(cardNumberString)) {\r\n        return 'JCB'\r\n    } else if (isDiscover(cardNumberString)) {\r\n        return 'Discover'\r\n    } else {\r\n        throw new Error('Cannot recognize card provider')\r\n    }\r\n}\r\n\r\n\r\nfunction isVisa(cardNumberString) {\r\n    const islength = cardNumberString.length === 16;\r\n    const isPrefix = cardNumberString.startsWith('4');\r\n    return islength && isPrefix\r\n}\r\n\r\nfunction isMasterCard(cardNumberString) {\r\n    const islength = cardNumberString.length === 13 || cardNumberString.length === 16;\r\n    const isPrefix = ['51', '52', '53', '54', '55'].includes(cardNumberString.substring(0, 2))\r\n    return islength && isPrefix\r\n}\r\n\r\nfunction isAmericanExpress(cardNumberString) {\r\n    const islength = cardNumberString.length === 15;\r\n    const isPrefix = ['34', '37'].includes(cardNumberString.substring(0, 2))\r\n    return islength && isPrefix\r\n}\r\nfunction isJcb(cardNumberString) {\r\n    const islength = cardNumberString.length === 16;\r\n    const isPrefix = cardNumberString.startsWith('35')\r\n    return islength && isPrefix\r\n}\r\nfunction isDiscover(cardNumberString) {\r\n    const islength = cardNumberString.length === 16;\r\n    const isPrefix = cardNumberString.startsWith('60')\r\n    return islength && isPrefix\r\n}\r\n\r\n\r\nexport default getCardProvider;\r\n\r\n","import getCardProvider from './getCardProvider';\r\n\r\nconst cardType = document.querySelector('.cardType');\r\nconst inputNumber = document.querySelector('.inputNumber');\r\nconst flexContainer = document.querySelector('.flex-container');\r\n\r\nlet img = new Image()\r\nimg.classList.add('.logo')\r\n\r\n\r\ninputNumber.addEventListener('change', e => {\r\n    e.preventDefault();\r\n\r\n    if (getCardProvider(inputNumber.value) === 'Visa') {\r\n        cardType.innerHTML = getCardProvider(inputNumber.value)\r\n        cardType.style.color = \"white\";\r\n        cardType.style.marginRight = \"15%\";\r\n        img.src = '/visa.7b505cfb.png'\r\n        flexContainer.appendChild(img);\r\n\r\n    } else if (getCardProvider(inputNumber.value) === 'MasterCard') {\r\n        cardType.innerHTML = getCardProvider(inputNumber.value)\r\n        cardType.style.color = \"white\";\r\n        img.src = '/mastercard.61c43cec.png'\r\n        flexContainer.appendChild(img);\r\n\r\n    } else if (getCardProvider(inputNumber.value) === 'American Express') {\r\n        cardType.innerHTML = getCardProvider(inputNumber.value)\r\n        cardType.style.color = \"white\";\r\n        img.src = '/am.a96eef0a.png';\r\n        flexContainer.appendChild(img);\r\n\r\n    } else if (getCardProvider(inputNumber.value) === 'JCB') {\r\n        cardType.innerHTML = getCardProvider(inputNumber.value)\r\n        cardType.style.color = \"white\";\r\n        cardType.style.marginRight = \"10%\";\r\n        img.src = '/jcb.391f2d68.png'\r\n        flexContainer.appendChild(img);\r\n\r\n    } else if (getCardProvider(inputNumber.value) === 'Discover') {\r\n        cardType.innerHTML = getCardProvider(inputNumber.value);\r\n        cardType.style.color = \"white\";\r\n        cardType.style.marginRight = \"15%\";\r\n        img.src = '/discover.5b3b2c3c.png';\r\n        flexContainer.appendChild(img);\r\n\r\n    } else {\r\n        cardType.innerHTML = getCardProvider(inputNumber.value)\r\n        cardType.style.color = \"#F80000\";\r\n    }\r\n})"]}